name_set = {};
chain_cache = {};

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// generator function

  generate_name = function generate_name (type) {
    if (chain = markov_chain(type)) {
      return markov_name(chain);
    }
    return '';
  }

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// generate multiple

  function name_list (type, n_of) {
    var list = [];

    for (i = 0; i < n_of; i++) {
      list.push(generate_name(type));
    }
    return list;
  }

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// get markov chain by type

  function markov_chain (type) {
    if (chain = chain_cache[type]) {
      return chain;
    } else {
      if (list = name_set[type]) {
        if (chain = construct_chain(list)) {
          chain_cache[type] = chain;
          return chain;
        }
      }
    }
    return false;
  }

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// construct markov chain from list of names

  function construct_chain (list) {
    var chain = {};

    for (i = 0; i < list.length; i++) {
      var names = list[i].split(/\s+/);
      chain = incr_chain(chain,'parts',names.length);

      for (j = 0; j < names.length; j++) {
        var name = names[j];
        chain = incr_chain(chain,'name_len',name.length);

        var c = name.substr(0,1);
        chain = incr_chain(chain,'initial',c);

        var string = name.substr(1);
        var last_c = c;

        while (string.length > 0) {
          var c = string.substr(0,1);
          chain = incr_chain(chain,last_c,c);

          string = string.substr(1);
          last_c = c;
        }
      }
    }
    return scale_chain(chain);
  }
  function incr_chain (chain, key, token) {
    if (chain[key]) {
      if (chain[key][token]) {
        chain[key][token]++;
      } else {
        chain[key][token] = 1;
      }
    } else {
      chain[key] = { token: 1 };
    }
    return chain;
  }
  function scale_chain (chain) {
    var table_len = {};

    for (key in chain) {
      table_len[key] = 0;

      for (token in chain[key]) {
        var count = chain[key][token];
        var weighted = Math.floor(Math.pow(count,1.3));

        chain[key][token] = weighted;
        table_len[key] += weighted;
      }
    }
    chain['table_len'] = table_len;
    return chain;
  }

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// construct name from markov chain

  function markov_name (chain) {
    var parts = select_link(chain,'parts');
    var names = [];

    for (i = 0; i < parts; i++) {
      var name_len = select_link(chain,'name_len');
      var c = select_link(chain,'initial');
      var name = c;
      var last_c = c;

      while (name.length < name_len) {
        c = select_link(chain,last_c);
        name += c;
        last_c = c;
      }
      names.push(name);
    }
    return names.join(' ');
  }
  function select_link (chain, key) {
    var len = chain['table_len'][key];
    var idx = Math.floor(Math.random() * len);

    var t = 0; for (token in chain[key]) {
      t += chain[key][token];
      if (idx < t) { return token; }
    }
    return '-';
  }

name_set['default'] = [
'Aaron',
'Abel',
'Abraham',
'Abram',
'Adam',
'Adan',
'Addison',
'Aden',
'Aditya',
'Adolfo',
'Adonis',
'Adrian',
'Adriel',
'Adrien',
'Agustin',
'Aidan',
'Aiden',
'Alan',
'Albert',
'Alden',
'Aldo',
'Alec',
'Alex',
'Alexander',
'Alexis',
'Alexzander',
'Alfonso',
'Alfred',
'Alfredo',
'Ali',
'Alijah',
'Allan',
'Allen',
'Alonso',
'Alonzo',
'Alvaro',
'Alvin',
'Amari',
'Amarion',
'Amir',
'Anderson',
'Andre',
'Andres',
'Andrew',
'Andy',
'Angel',
'Anthony',
'Anton',
'Antonio',
'Antony',
'Antwan',
'Ari',
'Ariel',
'Arjun',
'Arnold',
'Aron',
'Art',
'Arthur',
'Aryan',
'Asa',
'Asher',
'Ashton',
'Aubrey',
'August',
'Augustus',
'Austen',
'Austin',
'Austyn',
'Avery',
'Axel',
'Ayden',
'Baby',
'Bailey',
'Barrett',
'Barry',
'Bart',
'Beau',
'Ben',
'Benjamin',
'Bennett',
'Benny',
'Bernard',
'Bilal',
'Bill',
'Billy',
'Blaine',
'Blaise',
'Blake',
'Blaze',
'Bo',
'Bobby',
'Brad',
'Braden',
'Bradley',
'Brady',
'Bradyn',
'Braeden',
'Braedon',
'Braiden',
'Branden',
'Brandon',
'Braxton',
'Brayan',
'Brayden',
'Braydon',
'Brendan',
'Brenden',
'Brendon',
'Brennan',
'Brennen',
'Brent',
'Brenton',
'Bret',
'Brett',
'Brian',
'Brice',
'Brock',
'Brodie',
'Brody',
'Brooks',
'Bruce',
'Bruno',
'Bryan',
'Bryant',
'Bryce',
'Brycen',
'Bryson',
'Byron',
'Cade',
'Caden',
'Cael',
'Caiden',
'Cale',
'Caleb',
'Calvin',
'Camden',
'Cameron',
'Camren',
'Camron',
'Carl',
'Carlo',
'Carlos',
'Carlton',
'Carson',
'Carter',
'Casey',
'Cason',
'Cayden',
'Cedric',
'Cesar',
'Chad',
'Chaim',
'Chance',
'Chandler',
'Charles',
'Charlie',
'Chase',
'Chaz',
'Chris',
'Christian',
'Christopher',
'Chuck',
'Clarence',
'Clark',
'Clay',
'Clayton',
'Clifford',
'Clifton',
'Clinton',
'Coby',
'Cody',
'Colby',
'Cole',
'Coleman',
'Colin',
'Collin',
'Colt',
'Colten',
'Colton',
'Conner',
'Connor',
'Conor',
'Conrad',
'Cooper',
'Corbin',
'Cordell',
'Corey',
'Cornelius',
'Cortez',
'Cory',
'Craig',
'Cristian',
'Cristobal',
'Cristopher',
'Cruz',
'Cullen',
'Curtis',
'Cyrus',
'Dakota',
'Dale',
'Dallas',
'Dallin',
'Dalton',
'Damian',
'Damien',
'Damion',
'Damon',
'Dan',
'Dandre',
'Dane',
'Dangelo',
'Daniel',
'Danny',
'Dante',
'Daquan',
'Darian',
'Darien',
'Darin',
'Dario',
'Darion',
'Darius',
'Darnell',
'Darrell',
'Darren',
'Darrin',
'Darrion',
'Darrius',
'Darryl',
'Darwin',
'Daryl',
'Dashawn',
'Dave',
'David',
'Davin',
'Davion',
'Davis',
'Davon',
'Dawson',
'Dayton',
'Dean',
'Deandre',
'Deangelo',
'Declan',
'Demarcus',
'Demetrius',
'Dennis',
'Denny',
'Denzel',
'Deon',
'Deonte',
'Derek',
'Derick',
'Derrick',
'Deshaun',
'Deshawn',
'Desmond',
'Destin',
'Devan',
'Devante',
'Deven',
'Devin',
'Devon',
'Devonte',
'Devyn',
'Dexter',
'Diego',
'Dillan',
'Dillon',
'Dimitri',
'Dion',
'Dominic',
'Dominick',
'Dominik',
'Dominique',
'Don',
'Donald',
'Donavan',
'Donovan',
'Dontae',
'Donte',
'Dorian',
'Doug',
'Douglas',
'Drake',
'Draven',
'Drew',
'Duane',
'Duncan',
'Dustin',
'Dwayne',
'Dwight',
'Dylan',
'Dylon',
'Ean',
'Earl',
'Eddie',
'Eddy',
'Edgar',
'Edward',
'Edwin',
'Efrain',
'Efren',
'Eli',
'Elian',
'Elias',
'Elijah',
'Elisha',
'Elliot',
'Elliott',
'Ellis',
'Elmer',
'Elvin',
'Elvis',
'Emanuel',
'Emerson',
'Emmanuel',
'Emmett',
'Enrique',
'Eric',
'Erick',
'Erik',
'Ernest',
'Ethan',
'Eugene',
'Evan',
'Everett',
'Ezekiel',
'Ezequiel',
'Ezra',
'Fabian',
'Felipe',
'Felix',
'Fernando',
'Fidel',
'Finn',
'Forrest',
'Francis',
'Francisco',
'Frank',
'Frankie',
'Franklin',
'Fred',
'Freddie',
'Freddy',
'Frederick',
'Fredrick',
'Gabriel',
'Gael',
'Gage',
'Gaige',
'Gannon',
'Garett',
'Garret',
'Garrett',
'Garrison',
'Gary',
'Gaven',
'Gavin',
'Gavyn',
'Gene',
'Geoffrey',
'George',
'Gerald',
'Gerard',
'Gerardo',
'Gian',
'Giancarlo',
'Gianni',
'Gideon',
'Gilbert',
'Gino',
'Glen',
'Glenn',
'Gonzalo',
'Gordon',
'Grady',
'Graham',
'Grant',
'Grayson',
'Greg',
'Gregory',
'Greyson',
'Griffin',
'Gunnar',
'Gunner',
'Guy',
'Haden',
'Harley',
'Harold',
'Harrison',
'Harry',
'Hassan',
'Hayden',
'Heath',
'Hector',
'Henry',
'Herbert',
'Holden',
'Houston',
'Howard',
'Hudson',
'Hugh',
'Hugo',
'Hunter',
'Ian',
'Immanuel',
'Irvin',
'Isaac',
'Isaak',
'Isai',
'Isaiah',
'Isaias',
'Isiah',
'Ivan',
'Jabari',
'Jace',
'Jack',
'Jackson',
'Jacob',
'Jacoby',
'Jaden',
'Jadon',
'Jadyn',
'Jagger',
'Jaime',
'Jake',
'Jakob',
'Jalen',
'Jamal',
'Jamar',
'Jamari',
'Jamel',
'James',
'Jameson',
'Jamie',
'Jamil',
'Jamir',
'Jamison',
'Jan',
'Jared',
'Jaren',
'Jarod',
'Jaron',
'Jarred',
'Jarrett',
'Jarrod',
'Jarvis',
'Jase',
'Jason',
'Jasper',
'Javen',
'Javier',
'Javion',
'Javon',
'Jaxon',
'Jaxson',
'Jay',
'Jayce',
'Jayden',
'Jayson',
'Jean',
'Jeff',
'Jefferson',
'Jeffery',
'Jeffrey',
'Jeremiah',
'Jeremy',
'Jermaine',
'Jerome',
'Jerry',
'Jesse',
'Jessie',
'Jett',
'Jevon',
'Jim',
'Jimmy',
'Joan',
'Joaquin',
'Joe',
'Joel',
'Joey',
'Johan',
'John',
'Johnathan',
'Johnathon',
'Johnny',
'Jon',
'Jonah',
'Jonas',
'Jonathan',
'Jonathon',
'Jordan',
'Jorden',
'Jordon',
'Jordy',
'Jorge',
'Jose',
'Josef',
'Joseph',
'Josh',
'Joshua',
'Josiah',
'Josue',
'Jovan',
'Juan',
'Judah',
'Jude',
'Julian',
'Julien',
'Julio',
'Julius',
'Junior',
'Justice',
'Justin',
'Justus',
'Justyn',
'Kade',
'Kaden',
'Kadin',
'Kai',
'Kaiden',
'Kale',
'Kaleb',
'Kameron',
'Kamron',
'Kane',
'Kareem',
'Karl',
'Karson',
'Kasey',
'Kayden',
'Keagan',
'Keanu',
'Keaton',
'Keegan',
'Keenan',
'Keith',
'Kellen',
'Kelly',
'Kelton',
'Kelvin',
'Ken',
'Kendall',
'Kendrick',
'Kennedy',
'Kenneth',
'Kenny',
'Kent',
'Kenyon',
'Keon',
'Keshawn',
'Keven',
'Kevin',
'Kevon',
'Keyon',
'Keyshawn',
'Khalid',
'Khalil',
'Kian',
'Kieran',
'Kirk',
'Kobe',
'Koby',
'Kody',
'Kolby',
'Kole',
'Kolton',
'Korbin',
'Korey',
'Kory',
'Kristian',
'Kristofer',
'Kristopher',
'Kurt',
'Kurtis',
'Kylan',
'Kyle',
'Kyler',
'Kyree',
'Lamar',
'Lance',
'Landen',
'Landon',
'Lane',
'Larry',
'Latrell',
'Lawrence',
'Lawson',
'Layne',
'Layton',
'Lee',
'Leo',
'Leon',
'Leonard',
'Leonardo',
'Leonel',
'Leroy',
'Levi',
'Lewis',
'Liam',
'Lincoln',
'Lisandro',
'Logan',
'Lonnie',
'Lorenzo',
'Louis',
'Luc',
'Luca',
'Lucas',
'Luis',
'Lukas',
'Luke',
'Malachi',
'Malakai',
'Malcolm',
'Malik',
'Manuel',
'Marc',
'Marcel',
'Marcelo',
'Marco',
'Marcos',
'Marcus',
'Mariano',
'Mario',
'Mark',
'Markus',
'Marlon',
'Marshall',
'Martin',
'Marvin',
'Mason',
'Mateo',
'Matt',
'Matteo',
'Matthew',
'Maurice',
'Maverick',
'Max',
'Maxim',
'Maximo',
'Maximus',
'Maxwell',
'Melvin',
'Micah',
'Michael',
'Miguel',
'Mike',
'Mikel',
'Miles',
'Milo',
'Milton',
'Misael',
'Mitchel',
'Mitchell',
'Moises',
'Morgan',
'Moses',
'Moshe',
'Myles',
'Nash',
'Nasir',
'Nat',
'Nathan',
'Nathaniel',
'Neal',
'Nehemiah',
'Neil',
'Nelson',
'Nestor',
'Nicholas',
'Nick',
'Nico',
'Nicolas',
'Nigel',
'Nikhil',
'Noah',
'Noe',
'Noel',
'Nolan',
'Norman',
'Oliver',
'Omar',
'Omari',
'Omarion',
'Orion',
'Orlando',
'Oscar',
'Oswaldo',
'Owen',
'Pablo',
'Parker',
'Patrick',
'Paul',
'Paxton',
'Payton',
'Pedro',
'Perry',
'Peter',
'Peyton',
'Philip',
'Phillip',
'Pierce',
'Pierre',
'Porter',
'Preston',
'Prince',
'Quentin',
'Quincy',
'Quinn',
'Quinten',
'Quintin',
'Quinton',
'Rafael',
'Ralph',
'Ramiro',
'Ramon',
'Randall',
'Randy',
'Raphael',
'Rashad',
'Raul',
'Ray',
'Raymond',
'Reagan',
'Reece',
'Reed',
'Reese',
'Reginald',
'Reid',
'Reilly',
'Remington',
'Rene',
'Reuben',
'Rey',
'Rhett',
'Ricardo',
'Richard',
'Rick',
'Rickey',
'Ricky',
'Riley',
'River',
'Rob',
'Robert',
'Roberto',
'Rocco',
'Rod',
'Roderick',
'Rodney',
'Roger',
'Rohan',
'Roland',
'Roman',
'Romeo',
'Ronald',
'Ronan',
'Ronnie',
'Rory',
'Ross',
'Rowan',
'Roy',
'Ruben',
'Rudy',
'Russell',
'Ryan',
'Ryder',
'Rylan',
'Rylee',
'Sage',
'Sam',
'Sammy',
'Samson',
'Samuel',
'Saul',
'Scott',
'Sean',
'Sebastian',
'Sergio',
'Seth',
'Shamar',
'Shane',
'Shannon',
'Shaun',
'Shawn',
'Shayne',
'Shea',
'Sheldon',
'Shemar',
'Sidney',
'Silas',
'Simon',
'Skylar',
'Skyler',
'Solomon',
'Sonny',
'Spencer',
'Stanley',
'Stefan',
'Stephan',
'Steve',
'Steven',
'Stewart',
'Stone',
'Stuart',
'Sullivan',
'Sye',
'Talon',
'Tanner',
'Tate',
'Tavion',
'Taylor',
'Ted',
'Terrance',
'Terrell',
'Terrence',
'Terry',
'Thaddeus',
'Theodore',
'Thomas',
'Tim',
'Timothy',
'Titus',
'Tobias',
'Toby',
'Todd',
'Tom',
'Tomas',
'Tommy',
'Tony',
'Trace',
'Travis',
'Travon',
'Tre',
'Trent',
'Trenton',
'Trever',
'Trevion',
'Trevon',
'Trevor',
'Trey',
'Tristan',
'Tristen',
'Troy',
'Trystan',
'Tucker',
'Turner',
'Ty',
'Tyler',
'Tylor',
'Tyrell',
'Tyrese',
'Tyrone',
'Tyson',
'Uriel',
'Victor',
'Vincent',
'Wade',
'Walker',
'Walter',
'Warren',
'Waylon',
'Wayne',
'Wesley',
'Weston',
'Will',
'William',
'Willie',
'Wilson',
'Winston',
'Wyatt',
'Xander',
'Xavier',
'Zachariah',
'Zachary',
'Zachery',
'Zack',
'Zackary',
'Zackery',
'Zain',
'Zaire',
'Zakary',
'Zander',
'Zane',
'Zavier',
'Zayne',
'Zed',
'Zeke',
]